<div class="row">

  <!-- Blog Entries Column -->
  <div class="col-md-7">

    <h1 class="my-4">Page Heading
      <small>Secondary Text</small>
    </h1>

    <% @newspapers.each do |newspaper| %>
    <!-- Blog Post -->
      <div class="card mb-4">
        <img class="card-img-top" src="http://placehold.it/750x300" alt="Card image cap">
        <div class="card-body">
          
          <h2 class="card-title"><%= link_to newspaper.title, newspaper_path(newspaper) %></h2>
          <p class="card-text"><%= newspaper.content %></p>

          <!-- Button trigger modal -->

          <%= link_to "Read More", newspaper_path(newspaper), class: "btn btn-primary"%> 
          <% if newspaper.user == current_user %>
            <%= link_to "Edit", edit_newspaper_path(newspaper), class: "btn btn-primary" %> 
            <%= link_to "Destroy", newspaper_path(newspaper),
                      method: :delete,
                      data: { confirm: "Are you sure? "}, class: "btn btn-primary" %> 
          <% end %>

          <!-- Modal -->

        </div>
        <div class="card-footer text-muted">
          Posted on <%= time_ago_in_words(newspaper.created_at)%> by
          <%= link_to writer_full_name(newspaper), newspapers_path(filter: newspaper.user.id)%> 
        </div>
      </div>

    <% end %>

    <!-- Pagination -->
    <div class="row pagination" align="center">
      <%= will_paginate @newspaper, renderer: WillPaginate::ActionView::BootstrapLinkRenderer %>
    </div>

  </div>

  <!-- Sidebar Widgets Column -->
  <div class="col-md-4">

    <!-- Search Widget -->
    <div class="card my-4">
      <h5 class="card-header">Search</h5>
      <div class="card-body">
        <div class="input-group">
          <%= form_tag newspapers_path, :class =>"form-inline ", :method => 'get' do %>
            <%= text_field_tag :search, params[:search], :class =>"form-control" %>

            <span class="input-group-btn ml-2">
            <%= submit_tag "Go!", :class => "btn btn-secondary my-2 my-sm-0" %>
            </span>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Categories Widget -->
    <div class="card my-4">
      <h5 class="card-header">Categories</h5>
      <div class="card-body">
        <div class="row">
          <div class="col-lg-6">
            <% @newspapers.each do |newspaper| %>
            <ul class="list-unstyled mb-0">
              <li>
                <a href="#"><%= raw newspaper.tags.map(&:name).map { |t| link_to t, tag_path(t) }.join(', ') %></a>
              </li>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <!-- Side Widget -->
    <div class="card my-4">
      <h5 class="card-header">Side Widget</h5>
      <div class="card-body">
        You can put anything you want inside of these side widgets. They are easy to use, and feature the new Bootstrap 4 card containers!
      </div>
    </div>

  </div>

</div>
